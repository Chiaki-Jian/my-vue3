<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app"></div>

</body>
<!-- <script src="../../../node_modules/@vue/reactivity/dist/reactivity.global.js"></script> -->
<script>
  // effect 副作用函数，依赖数据发生变化 effect 再次执行
  // reactive 对数据深度绑定响应式
  // shallowReactive 对表层数据绑定响应式
  const { effect, reactive, shallowReactive, } = VueReactivity

  const state1 = reactive({ name: 'tom', age: 1, address: { street: 'xxxx' } })
  const state2 = shallowReactive({ name: 'tom', age: 1, address: { street: 'xxxx' } })

  console.log('reactive:', state1.address); // proxy { street: 'xxxx' }
  console.log('shallowReactive:', state2.address); // { street: 'xxxx' }

  effect(() => {
    // console.log('effect');
    app.innerHTML = state1.name + '猫' + state1.age + '岁了' + ',' + state2.name + '猫' + state2.age + '岁了'
  })


  setTimeout(() => {
    state1.age++
    state2.age++
  }, 1000)

</script>

</html>