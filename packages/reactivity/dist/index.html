<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="app"></div>

</body>
<!-- <script src="../../../node_modules/@vue/reactivity/dist/reactivity.global.js"></script> -->
<script src="../dist/reactivity.global.js"></script>
<script>
  // effect 副作用函数，依赖数据发生变化 effect 再次执行
  // reactive 对数据深度绑定响应式
  // shallowReactive 对表层数据绑定响应式
  const { effect, reactive } = VueReactivity

  const data = { name: 'tom', age: 1 }
  // 优化场景1: 代理统一数据
  // const state1 = reactive(data)
  // const state2 = reactive(data)
  // console.log(state1 === state2);

  // 优化场景2: 代理数据重复代理
  const state1 = reactive(data)
  const state2 = reactive(state1)
  console.log(state1 === state2);

  effect(() => {
    app.innerHTML = state1.name + '猫' + state1.age + '岁了'
  })


  setTimeout(() => {
    state1.age++
  }, 1000)

</script>

</html>